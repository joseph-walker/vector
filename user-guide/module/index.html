<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Joseph Walker">
  
  <title>Vector Modules - Vector</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Vector Modules";
    var mkdocs_page_input_path = "user-guide/module.md";
    var mkdocs_page_url = "/user-guide/module/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Vector</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Introduction</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>User Guide</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../basics/">Functional Basics</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Vector Modules</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#the-vector-module">The Vector Module</a></li>
                
                    <li><a class="toctree-l4" href="#what-it-does">What it Does</a></li>
                
                    <li><a class="toctree-l4" href="#implementing-your-own-module">Implementing Your Own Module</a></li>
                
            
            </ul>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Vector</span></li>

        
            
    <ul class="subnav">
    <li><span>Lib</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../auto-generate/Vector/Lib/ArrayList/">ArrayList</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../auto-generate/Vector/Lib/Lambda/">Lambda</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../auto-generate/Vector/Lib/Logic/">Logic</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../auto-generate/Vector/Lib/Math/">Math</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../auto-generate/Vector/Lib/Object/">Object</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../auto-generate/Vector/Lib/Strings/">Strings</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Control</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../auto-generate/Vector/Control/Applicative/">Applicative</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../auto-generate/Vector/Control/Functor/">Functor</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../auto-generate/Vector/Control/Lens/">Lens</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../auto-generate/Vector/Control/Monad/">Monad</a>
        
    </li>

        
    </ul>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Vector</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>User Guide &raquo;</li>
        
      
    
    <li>Vector Modules</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/joseph-walker/vector" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="the-vector-module">The Vector Module</h1>
<p>The Vector Module exists in the <code>Vector\Core</code> namespace, and every Vector module
exists as a subclass of the Module. <code>Module</code> provides loads of benefits transparently, and
strives to be as simple as possible to implement.</p>
<h2 id="what-it-does">What it Does</h2>
<p>The primary benefit of <code>Module</code> is that it will automatically curry the functions placed
inside of it. This allows you to write your functions without worrying about manually
adding the breakpoints for currying, or worrying about closing over curried arguments -- You can
simply write your function as through it receives all of its arguments at once, and let <code>Module</code>
handle the rest.</p>
<p>The <code>Module</code> also provides mechanisms for memoization -- caching function calls for long-running
or expensive operations -- transparently and automatically.</p>
<p>A side benefit of <code>Module</code> is that it allows you to autoload your functions with Composer.
While later versions of PHP have namespaced functions, there is currently no way to autoload
them in Composer aside from using the <code>autoload.files</code> field in the <code>composer.json</code> file, which
loads the file on every request regardless of whether or not it's needed.</p>
<h2 id="implementing-your-own-module">Implementing Your Own Module</h2>
<h3 id="creating-the-module">Creating the Module</h3>
<p>To implement your own <code>Module</code>, simply create a new class and extend <code>Vector\Core\Module</code>:</p>
<pre><code class="php">class MyModule extends Vector\Core\Module
{
}
</code></pre>

<h3 id="adding-functions">Adding Functions</h3>
<p>The Module will intercept function calls using the <code>__callStatic</code> magic method from PHP. Because of this though,
the name of your function can't match the name that you call from your code. We choose to adopt the magic method standard and
declare all of our functions with double underscores prefixed to their names.</p>
<pre><code>class MyModule extends Vector\Core\Module
{
    protected static __myFunction($a, $b)
    {
        return $a . ' foo ' . $b;
    }
}
</code></pre>

<p>Recommended practice is to declare the functions in a module as <code>protected</code>. The functions <em>cannot</em> be <code>private</code> because the parent class <code>Module</code> needs
to be able to access them. They <em>can</em> be <code>public</code> however, but it's best not to provide a way to call your raw function without passing it through the
<code>Module</code> proxy.</p>
<h3 id="enabling-memoization">Enabling Memoization</h3>
<p>Memoized functions store the result of their execution in a private context, and can then short circuit their execution and return their result
if called again with the same arguments. This is effectively free caching.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Memoization assumes that your functions are pure. If your functions have side effects, those side effects will not execute again
if you memoize the function causing them! Avoid side effects!</p>
</div>
<p>Memoization is disabled for new modules by default -- you must opt into it. To enable memoization for a single or multiple functions, override
the <code>$memoize</code> field on your module:</p>
<pre><code>class MyModule extends Vector\Core\Module
{
    protected static $memoize = ['myFunction'];

    protected static __myFunction($a, $b)
    {
        return $a . ' foo ' . $b;
    }
}
</code></pre>

<p>Alternatively, to enable memoization for an entire module, set <code>$memoize</code> to <code>true</code>.</p>
<p>Notice how we declared the function in our <code>$memoize</code> list -- we do not include the double underscore prefix of the function name. The <code>Module</code>
takes care of interpreting that for us. Just list your function names with their display names, or the names you would use when using them.</p>
<h3 id="disabling-currying">Disabling Currying</h3>
<p>If you for some reason don't want your function to be curried, you can override the
<code>$doNotCurry</code> field on your module:</p>
<pre><code>class MyModule extends Vector\Core\Module
{
    protected static $doNotCurry = ['myFunction'];

    protected static __myFunction($a, $b)
    {
        return $a . ' foo ' . $b;
    }
}
</code></pre>

<p>Alternatively, to disable currying for an entire module, set <code>$doNotCurry</code> to <code>true</code>.</p>
<p>Notice again that we don't include the double underscore in the <code>$doNotCurry</code> array.</p>
<p>Generally speaking you should never need to do this. This exists as a side effect of the internal
curry implementation and is exposed only for any edge cases where you might need it.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../auto-generate/Vector/Lib/ArrayList/" class="btn btn-neutral float-right" title="ArrayList">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../basics/" class="btn btn-neutral" title="Functional Basics"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright (c) 2016 Joseph Walker</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/joseph-walker/vector" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../basics/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../auto-generate/Vector/Lib/ArrayList/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
